$(document).ready(function()
{var block=!1;function onCheckChanged(checkbox,elements){if(block)
return;block=!0;if(checkbox.hasAttribute("data-check-all"))
{if($(checkbox).is(':checked'))
{elements.forEach(function(element)
{if(element===checkbox)
return;setState(element,!1)})}
else{elements.forEach(function(element)
{if(element===checkbox)
return;setState(element,!0)})}}
else{if($(checkbox).is(':checked'))
{elements.forEach(function(element)
{if(element.hasAttribute("data-check-all"))
{setState(element,!1)}})}
else{checkIfAll(elements,checkbox)}}
block=!1}
function setState(element,state)
{var checkbox=$(element);var run=!1;if(checkbox.is(':checked')&&!state)
{checkbox.siblings("span").click()}
else if(!checkbox.is(':checked')&&state)
{checkbox.siblings("span").click()}}
function checkIfAll(elements,ignore)
{var allchecked=!0;elements.forEach(function(element){if(ignore===element)
return;if(!element.hasAttribute("data-check-all")&&!$(element).is(':checked'))
{allchecked=!1}});if(allchecked)
{elements.forEach(function(element){if(element.hasAttribute("data-check-all")){setState(element,!0)}})}}
$(`[data-check-all]`).each(function(){var switches=[];$(`#${$(this).attr("data-check-all")}`).find("[type='checkbox']").each(function(index,element)
{switches.push($(element)[0])});checkIfAll(switches);$(`#${$(this).attr("data-check-all")}`).find("[type='checkbox']").each(function(index,element)
{$(element).siblings("span")[0].addEventListener("click",function(e)
{onCheckChanged(element,switches)});$(element)[0].addEventListener("keyup",function(e)
{if(e.keyCode==32)
{onCheckChanged(this,switches)}})})})})